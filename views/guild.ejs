<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nexion | <%= guild.name %></title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background: #1a1c1e; color: #e1e1e1; font-family: 'Inter', sans-serif; margin: 0; }
        .container { max-width: 900px; margin: 40px auto; padding: 30px; background: #23272a; border-radius: 16px; }
        .module-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 24px; }
        .module-card { background: #2c2f33; border-radius: 12px; padding: 24px; text-align: center; border: 1px solid #3e4248; cursor: pointer; }
        .active { border: 2px solid #7289da; }
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; }
        .modal-content { background: #23272a; padding: 30px; border-radius: 12px; width: 400px; }
    </style>
</head>
<body>
    <div class="container">
        <h1><%= guild.name %> Modules</h1>
        <div class="module-grid">
            <div class="module-card <%= activeModule === 'logging' ? 'active' : '' %>" onclick="window.location.href='?module=logging'">
                <h3>Logging</h3>
                <p>Track server events</p>
            </div>
        </div>

        <% if (activeModule === 'logging') { %>
        <div class="modal">
            <div class="modal-content">
                <h2>Logging Settings</h2>
                <form method="POST" action="/dashboard/guild/<%= guild.id %>/logging">
                    <label><input type="checkbox" name="logging_enabled" <%= logging_enabled ? 'checked' : '' %>> Enable Logging</label><br><br>
                    <select name="logging_channel" style="width: 100%; padding: 10px;">
                        <% channels.forEach(ch => { %>
                            <option value="<%= ch.id %>" <%= logging_channel === ch.id ? 'selected' : '' %>>#<%= ch.name %></option>
                        <% }) %>
                    </select><br><br>
                    <button type="submit" style="background: #7289da; color: white; border: none; padding: 10px 20px; border-radius: 5px;">Save</button>
                    <button type="button" onclick="window.location.href='/dashboard/guild/<%= guild.id %>'" style="background: #444; color: white; border: none; padding: 10px 20px; border-radius: 5px; margin-left: 10px;">Cancel</button>
                </form>
            </div>
        </div>
        <% } %>
    </div>
</body>
</html>